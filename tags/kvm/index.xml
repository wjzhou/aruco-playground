<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>kvm on wjzhou's Personal Blog</title><link>http://example.org/tags/kvm/</link><description>Recent content in kvm on wjzhou's Personal Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Tue, 17 Aug 2021 10:00:37 -0400</lastBuildDate><atom:link href="http://example.org/tags/kvm/index.xml" rel="self" type="application/rss+xml"/><item><title>Kvm Windows Timer for High Idle Cpu</title><link>http://example.org/posts/2021/08/kvm-windows-timer-for-high-idle-cpu/</link><pubDate>Tue, 17 Aug 2021 10:00:37 -0400</pubDate><guid>http://example.org/posts/2021/08/kvm-windows-timer-for-high-idle-cpu/</guid><description>For windows newer than 1803, it would have a high CPU on host (20%) even when the guest CPU is idle. It needs the following Hyper-V Enlightenments. https://github.com/qemu/qemu/blob/master/docs/hyperv.txt
&amp;lt;hyperv&amp;gt; &amp;lt;synic state=&amp;#39;on&amp;#39;/&amp;gt; &amp;lt;stimer state=&amp;#39;on&amp;#39;/&amp;gt; &amp;lt;/hyperv&amp;gt; The end xml:
&amp;lt;hyperv&amp;gt; &amp;lt;relaxed state=&amp;#39;on&amp;#39;/&amp;gt; &amp;lt;vapic state=&amp;#39;on&amp;#39;/&amp;gt; &amp;lt;spinlocks state=&amp;#39;on&amp;#39; retries=&amp;#39;8191&amp;#39;/&amp;gt; &amp;lt;synic state=&amp;#39;on&amp;#39;/&amp;gt; &amp;lt;stimer state=&amp;#39;on&amp;#39;/&amp;gt; &amp;lt;/hyperv&amp;gt; These should be the default setting when create the vm from vm-manager. Keep here for reference.
&amp;lt;clock offset=&amp;#39;localtime&amp;#39;&amp;gt; &amp;lt;timer name=&amp;#39;rtc&amp;#39; tickpolicy=&amp;#39;catchup&amp;#39;/&amp;gt; &amp;lt;timer name=&amp;#39;pit&amp;#39; tickpolicy=&amp;#39;delay&amp;#39;/&amp;gt; &amp;lt;timer name=&amp;#39;hpet&amp;#39; present=&amp;#39;no&amp;#39;/&amp;gt; &amp;lt;timer name=&amp;#39;hypervclock&amp;#39; present=&amp;#39;yes&amp;#39;/&amp;gt; &amp;lt;/clock&amp;gt; Reference: https://bugzilla.</description></item></channel></rss>